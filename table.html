<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="author" content="Ningaro">
  <meta name="description" content="Креативный справочник по каждому элементу таблицы Менделеева. https://github.com/Tennesine/Chim-Table">
  <link rel="author" href="https://github.com/Ningaro">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="css\bootstrap.min.css">
  <!-- Magnific Popup core CSS file -->
  <link rel="stylesheet" href="css/magnific-popup.css">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="css\general.css">
  <!-- Icon -->
  <link rel="shortcut icon" href="img\chemistry-table.png" type="image/png">

  <title>Химическая таблица</title>

  <!-- Меня значение при клике -->
  <script>
    var editor_code='<br><div class="btn-toolbar"data-role="editor-toolbar"data-target="#editor"><div class="btn-group mr-2"><a class="btn btn-outline-dark"data-edit="bold"title=""data-original-title="Bold (Ctrl/Cmd+B)"><i class="material-icons">format_bold</i></a><a class="btn btn-outline-dark"data-edit="italic"title=""data-original-title="Italic (Ctrl/Cmd+I)"><i class="material-icons">format_italic</i></a><a class="btn btn-outline-dark"data-edit="strikethrough"title=""data-original-title="Strikethrough"><i class="material-icons">format_strikethrough</i></a><a class="btn btn-outline-dark"data-edit="underline"title=""data-original-title="Underline (Ctrl/Cmd+U)"><i class="material-icons">format_underlined</i></a></div><div class="btn-group mr-2"><a class="btn btn-outline-dark"data-edit="insertunorderedlist"title=""data-original-title="Bullet list"><i class="material-icons">format_list_bulleted</i><\/a><a class="btn btn-outline-dark"data-edit="insertorderedlist"title=""data-original-title="Number list"><i class="material-icons">format_list_numbered</i></a><a class="btn btn-outline-dark"data-edit="outdent"title=""data-original-title="Reduce indent (Shift+Tab)"><i class="material-icons">format_indent_decrease</i></a><a class="btn btn-outline-dark"data-edit="indent"title=""data-original-title="Indent (Tab)"><i class="material-icons">format_indent_increase</i></a></div><div class="btn-group mr-2"><a class="btn btn-outline-dark"data-edit="justifyleft"title=""data-original-title="Align Left (Ctrl/Cmd+L)"><i class="material-icons">format_align_left</i></a><a class="btn btn-outline-dark"data-edit="justifycenter"title=""data-original-title="Center (Ctrl/Cmd+E)"><i class="material-icons">format_align_center</i></a><a class="btn btn-outline-dark"data-edit="justifyright"title=""data-original-title="Align Right (Ctrl/Cmd+R)"><i class="material-icons">format_align_right</i></a><a class="btn btn-outline-dark"data-edit="justifyfull"title=""data-original-title="Justify (Ctrl/Cmd+J)"><i class="material-icons">format_align_justify</i></a></div><div class="mr-2"><a class="btn btn-outline-dark img-input-button"title=""id="pictureBtn"data-original-title="Insert picture (or just drag &amp; drop)"><input type="file"data-role="magic-overlay"data-target="#pictureBtn"data-edit="insertImage"style="opacity: 0;position: absolute;margin-left: -13px;width: 48px;height: 30px;"><i class="material-icons">insert_photo</i></a></div><div class="btn-group mr-2"><a class="btn btn-outline-dark"data-edit="undo"title=""data-original-title="Undo (Ctrl/Cmd+Z)"><i class="material-icons">undo</i></a><a class="btn btn-outline-dark"data-edit="redo"title=""data-original-title="Redo (Ctrl/Cmd+Y)"><i class="material-icons">redo</i></a></div><input type="text"data-edit="inserttext"id="voiceBtn"x-webkit-speech=""style="display: none;"></div><div class="form-control"id="editor"contenteditable="true"rows="8"></div><br>';

    function moreinfo(name) {
      $('#label').html(values[name].label);
      $('#desc').html(editor_code);
      $('#history').html(editor_code);
      $('#nature').html(editor_code);
      $('#use').html(editor_code);
      $('#img').html(editor_code);
      $('#desc > #editor').html(values[name].desc);
      $('#history > #editor').html(values[name].history);
      $('#nature > #editor').html(values[name].nature);
      $('#use > #editor').html(values[name].use);
      $('#img > #editor').html(values[name].img);
      $('#editor').wysiwyg();
      $('#table-modal').modal('show');

      //Замена стилей картинки на magnific в модальном окне
      $('#editor').on('addImg', function(){
        $('#editor > img').addClass('rounded mx-auto d-block');
        $('#editor > img').width(200);
        var src = $('#editor > img').attr('src');
        $('#editor > img').wrap('<a class="image-link" href="${src}"></a>');
      });

    }
  </script>
</head>

<body>

  <!-- Modals -->
    <div class="modal fade" id="table-modal" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="label"></h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          </div>
          <div class="modal-body">
            <!-- Nav tabs -->
            <nav>
              <div class="nav nav-tabs" id="nav-tab" role="tablist">
                <a class="nav-item nav-link active" id="desc-tab" data-toggle="tab" href="#desc" role="tab" aria-controls="desc" aria-selected="true">Описание</a>
                <a class="nav-item nav-link" id="history-tab" data-toggle="tab" href="#history" role="tab" aria-controls="history" aria-selected="false">История</a>
                <a class="nav-item nav-link" id="nature-tab" data-toggle="tab" href="#nature" role="tab" aria-controls="nature" aria-selected="false">В природе</a>
                <a class="nav-item nav-link" id="use-tab" data-toggle="tab" href="#use" role="tab" aria-controls="use" aria-selected="false">Применение</a>
                <a class="nav-item nav-link" id="img-tab" data-toggle="tab" href="#img" role="tab" aria-controls="img" aria-selected="false">Доп. изображения</a>
              </div>
            </nav>
            <div class="tab-content" id="nav-tabContent">
              <div class="tab-pane fade show active"id="desc"role="tabpanel"aria-labelledby="desc-tab">
              </div>
              <div class="tab-pane fade" id="history" role="tabpanel" aria-labelledby="history-tab">
              </div>
              <div class="tab-pane fade" id="nature" role="tabpanel" aria-labelledby="nature-tab">
              </div>
              <div class="tab-pane fade" id="use" role="tabpanel" aria-labelledby="use-tab">
              </div>
              <div class="tab-pane fade" id="img" role="tabpanel" aria-labelledby="img-tab">
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Закрыть</button>
          </div>
        </div>
      </div>
    </div>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#">Таблица Менделеева</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="index.html">Главная</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="#">Таблица</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="table.html?table-history=open">История</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Задания ОГЭ/ЕГЭ
        </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
            <a class="dropdown-item" href="zd_physics.html">Задания ЕГЭ по физике</a>
            <a class="dropdown-item" href="zd_chemistry.html">Задания ОГЭ по химии</a>
          </div>
        </li>
      </ul>
    </div>
  </nav>

  <!-- Table -->
  <div class="container-fluid">
    <!-- Elements desc -->
    <div class="row justify-content-md-center">
      <div class="col-xl-2 col-12">
        <ul class="list-inline">
          <li class="list-inline-item" style="margin-right: .0rem;">
            <div class="col-2">
              <table border="0" class="elemItem yellow-block" style="width: 15px;height: 15px;">
                <tbody>
                  <tr>
                    <td class="elem-letter" height="10"></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </li>
          <li class="list-inline-item">- S элементы</li>
        </ul>
      </div>
      <div class="col-xl-2 col-12">
        <ul class="list-inline">
          <li class="list-inline-item" style="margin-right: .0rem;">
            <div class="col-2">
              <table border="0" class="elemItem red-block" style="width: 15px;height: 15px;">
                <tbody>
                  <tr>
                    <td class="elem-letter" height="10"></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </li>
          <li class="list-inline-item">- P элементы</li>
        </ul>
      </div>
      <div class="col-xl-2 col-12">
        <ul class="list-inline">
          <li class="list-inline-item" style="margin-right: .0rem;">
            <div class="col-2">
              <table border="0" class="elemItem green-block" style="width: 15px;height: 15px;">
                <tbody>
                  <tr>
                    <td class="elem-letter" height="10"></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </li>
          <li class="list-inline-item">- D элементы</li>
        </ul>
      </div>
    </div>

    <div class="row justify-content-md-center grid-11">

      <div class="col-xs-11 col-sm-1 col-md-1 col-lg-1" onclick="moreinfo('hydrogen');">


        <table border="0" class="elemItem yellow-block">
          <tbody>
            <tr>
              <td class="elem-letter" height="10">
                H
              </td>
              <td class="num" valign="top" width="20">1</td>
              <td rowspan="4" class="electr" valign="bottom" align="right" width="20">1</td>
            </tr>
            <tr class="massa_row">
              <td colspan="2" class="massa" width="120">1.00794±7</td>
            </tr>
            <tr class="elcfg_row">
              <td colspan="2" class="elcfg">1s<span class="tup">1</span></td>
            </tr>
            <tr class="capt_row">
              <td colspan="2" class="capt">
                Водород
              </td>
            </tr>
          </tbody>
        </table>


      </div>


      <div class="col-xs-11 col-sm-1 col-md-1 col-lg-1" onclick="moreinfo('helium');">


        <table border="0" class="elemItem yellow-block">
          <tbody>
            <tr>
              <td class="elem-letter" height="10">
                He
              </td>
              <td class="num" valign="top" width="20">2</td>
              <td rowspan="4" class="electr" valign="bottom" align="right" width="20">2</td>
            </tr>
            <tr class="massa_row">
              <td colspan="2" class="massa" width="120">4.002602±2</td>
            </tr>
            <tr class="elcfg_row">
              <td colspan="2" class="elcfg">1s<span class="tup">2</span></td>
            </tr>
            <tr class="capt_row">
              <td colspan="2" class="capt">
                Гелий
              </td>
            </tr>
          </tbody>
        </table>


      </div>

    </div>
  </div>

  <div class="container-fluid">
    <div class="row justify-content-md-center">
      <div class="col-12">
        <a href="https://github.com/Tennesine/Chim-Table"><img src="img/GitHub_Logo.png" height="40" class="rounded float-right"></a>
      </div>
    </div>
  </div>

  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="js/jquery-3.3.1.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <!-- Magnific Popup core JS file -->
  <script src="js/jquery.magnific-popup.min.js"></script>
  <!-- HotKeys -->
  <script src="js/jquery.hotkeys.js"></script>
  <!-- Text editor -->
  <script src="js/bootstrap-wysiwyg.js"></script>
  <!-- Подключаем значения таблицы -->
  <script src="values.js"></script>
  <!-- Optional JavaScript -->
  <script>
    function parseUrlQuery() {
      var data = {};
      if (location.search) {
        var pair = (location.search.substr(1)).split('&');
        for (var i = 0; i < pair.length; i++) {
          var param = pair[i].split('=');
          data[param[0]] = param[1];
        }
      }
      // это список с именами всех параметров в GET-запросе к странице
      return data;
    }
    $(document).ready(function() {

      $('.image-link').magnificPopup({
        type: 'image',
        closeOnContentClick: true,
        mainClass: 'mfp-with-zoom', // this class is for CSS animation below
        zoom: {
          enabled: true, // By default it's false, so don't forget to enable it
          duration: 500, // duration of the effect, in milliseconds
          easing: 'ease-in-out', // CSS transition easing function

          // The "opener" function should return the element from which popup will be zoomed in
          // and to which popup will be scaled down
          // By defailt it looks for an image tag:
          opener: function(openerElement) {
            // openerElement is the element on which popup was initialized, in this case its <a> tag
            // you don't need to add "opener" option if this code matches your needs, it's defailt one.
            return openerElement.is('img') ? openerElement : openerElement.find('img');
          }
        }
      });

      params = parseUrlQuery();
      if (params['table-history']) {
        $('#table-historyModal').modal('show');
      };
    });
  </script>
</body>

</html>
